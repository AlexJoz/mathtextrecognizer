<project>
    <shortName>mathtextrecognizer2</shortName>
    <fullName>MathTextRecognizer2</fullName>
    <version>1.0-es</version>
    <installerFilename></installerFilename>
    <readmeFile>Readme.txt</readmeFile>
    <licenseFile>../../license.txt</licenseFile>
    <wrapLicenseFileText>0</wrapLicenseFileText>
    <logoImage>Artwork/mathtextrecognizer48.png</logoImage>
    <defaultLanguage>es</defaultLanguage>
    <preInstallationActionList>
        <actionGroup>
            <actionList>
                <writeFile>
                    <path>${system_temp_directory}\checkmono.bat</path>
                    <text>@mono -V || echo monofail</text>
                </writeFile>
                <setInstallerVariableFromScriptOutput>
                    <exec>${system_temp_directory}\checkmono.bat</exec>
                    <execArgs></execArgs>
                    <name>monofail</name>
                </setInstallerVariableFromScriptOutput>
            </actionList>
            <ruleList>
                <compareText>
                    <logic>contains</logic>
                    <text>${platform_name}</text>
                    <value>windows</value>
                </compareText>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <actionList>
                <writeFile>
                    <path>${system_temp_directory}/checkmono.sh</path>
                    <text>mono -V || echo monofail</text>
                </writeFile>
                <setInstallerVariableFromScriptOutput>
                    <exec>sh</exec>
                    <execArgs>${system_temp_directory}/checkmono.sh</execArgs>
                    <name>monofail</name>
                </setInstallerVariableFromScriptOutput>
            </actionList>
            <ruleList>
                <compareText>
                    <logic>contains</logic>
                    <text>${platform_name}</text>
                    <value>linux</value>
                </compareText>
            </ruleList>
        </actionGroup>
        <throwError>
            <text>No tiene Mono (version 1.9 o superior) instalado y en el Path. Solucione esto y vuelva a lanzar la instalacion.</text>
            <ruleList>
                <compareText>
                    <logic>contains</logic>
                    <text>${monofail}</text>
                    <value>monofail</value>
                </compareText>
            </ruleList>
        </throwError>
    </preInstallationActionList>
    <enableRollback>1</enableRollback>
    <saveRelativePaths>1</saveRelativePaths>
    <componentList>
        <component>
            <name>default</name>
            <description>Default Component</description>
            <canBeEdited>1</canBeEdited>
            <selected>1</selected>
            <show>1</show>
            <folderList>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfiles</name>
                    <platforms>all</platforms>
                    <shortcutList>
                        <shortcut>
                            <comment>Uninstall</comment>
                            <exec>${installdir}/${uninstallerName}</exec>
                            <icon></icon>
                            <name>Uninstall ${product_fullname}</name>
                            <path>${installdir}</path>
                            <platforms>all</platforms>
                            <runInTerminal>0</runInTerminal>
                            <windowsExec>${installdir}/${uninstallerName}.exe</windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon></windowsIcon>
                            <windowsPath>${installdir}</windowsPath>
                        </shortcut>
                    </shortcutList>
                </folder>
                <folder>
                    <description>Program files</description>
                    <destination>${installdir}/</destination>
                    <name>installdir</name>
                    <platforms>all</platforms>
                    <shortcutList>
                        <shortcut>
                            <comment>Reconocedor de texto matematico</comment>
                            <exec>mono ${installdir}/bin/MathTextRecognizer.exe</exec>
                            <icon>${installdir}/icons/mathtextrecognizer48.png</icon>
                            <name>MathTextRecognizer</name>
                            <path>${installdir}</path>
                            <platforms>all</platforms>
                            <runInTerminal>0</runInTerminal>
                            <windowsExec>"${installdir}\bin\MathTextRecognizer.bat"</windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon>${installdir}/icons/mathtextrecognizer48.ico</windowsIcon>
                            <windowsPath>${installdir}</windowsPath>
                        </shortcut>
                        <shortcut>
                            <comment>Aprendedor de simbolos matematicos</comment>
                            <exec>mono ${installdir}/bin/MathTextLearner.exe</exec>
                            <icon>${installdir}/icons/mathtextlearner48.png</icon>
                            <name>MathTextLearner</name>
                            <path>${installdir}</path>
                            <platforms>all</platforms>
                            <runInTerminal>0</runInTerminal>
                            <windowsExec>"${installdir}/bin/mathtextlearner.bat"</windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon>${installdir}/icons/mathtextlearner48.ico</windowsIcon>
                            <windowsPath>${installdir}</windowsPath>
                        </shortcut>
                    </shortcutList>
                </folder>
                <folder>
                    <description>Menu</description>
                    <destination>${user_home_directory}/.local/share/applications/</destination>
                    <name>menu</name>
                    <platforms>linux</platforms>
                    <shortcutList>
                        <shortcut>
                            <comment>Aprendedor de simbolos matematios</comment>
                            <exec>mono ${installdir}/bin/MathTextLearner.exe</exec>
                            <icon>${installdir}/icons/mathtextlearner48.png</icon>
                            <name>MathTextLearner</name>
                            <path>${installdir}</path>
                            <platforms>linux</platforms>
                            <runInTerminal>0</runInTerminal>
                            <windowsExec></windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon></windowsIcon>
                            <windowsPath></windowsPath>
                        </shortcut>
                        <shortcut>
                            <comment>Reconocedor de texto matematico</comment>
                            <exec>mono ${installdir}/bin/MathTextRecognizer.exe</exec>
                            <icon>${installdir}/icons/mathtextrecognizer48.png</icon>
                            <name>MathTextRecognizer</name>
                            <path>${installdir}</path>
                            <platforms>linux</platforms>
                            <runInTerminal>0</runInTerminal>
                            <windowsExec></windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon></windowsIcon>
                            <windowsPath></windowsPath>
                        </shortcut>
                    </shortcutList>
                </folder>
                <folder>
                    <description>databases</description>
                    <destination>${installdir}/databases</destination>
                    <name>databases</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>../../tests/malla receptores no cursivos.jilfml</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../tests/malla receptores.jilfml</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>bin</description>
                    <destination>${installdir}/bin</destination>
                    <name>newfolder</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>../MathTextRecognizer/bin/Release/MathTextLearner.dll</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../MathTextRecognizer/bin/Release/MathTextLibrary.dll</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../MathTextRecognizer/bin/Release/MathTextRecognizer.exe</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../MathTextRecognizer/bin/Release/MathTextCustomWidgets.dll</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../MathTextLearnerLauncher/bin/Release/MathTextLearner.exe</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>mathtextrecognizer.bat</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>mathtextlearner.bat</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>icons</description>
                    <destination>${installdir}/icons</destination>
                    <name>icons</name>
                    <platforms>linux</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>Artwork/mathtextlearner48.png</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>Artwork/mathtextrecognizer48.png</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>icons</description>
                    <destination>${installdir}/icons</destination>
                    <name>iconsw</name>
                    <platforms>windows</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>Artwork/mathtextlearner48.ico</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>Artwork/mathtextrecognizer48.ico</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>tests</description>
                    <destination>${installdir}/tests</destination>
                    <name>tests</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionDirectory>
                            <origin>../../tests/aprendedor</origin>
                        </distributionDirectory>
                        <distributionDirectory>
                            <origin>../../tests/reconocedor</origin>
                        </distributionDirectory>
                    </distributionFileList>
                </folder>
            </folderList>
            <startMenuShortcutList>
                <startMenuShortcut>
                    <comment>Uninstall ${product_fullname}</comment>
                    <name>Uninstall ${product_fullname}</name>
                    <runInTerminal>0</runInTerminal>
                    <windowsExec>${installdir}/${uninstallerName}.exe</windowsExec>
                    <windowsExecArgs></windowsExecArgs>
                    <windowsIcon></windowsIcon>
                    <windowsPath>${installdir}/</windowsPath>
                </startMenuShortcut>
                <startMenuShortcut>
                    <comment>Reconocedor de texto matematico</comment>
                    <name>MathTextRecognizer</name>
                    <runInTerminal>0</runInTerminal>
                    <windowsExec>${installdir}\bin\mathtextrecognizer.bat</windowsExec>
                    <windowsExecArgs></windowsExecArgs>
                    <windowsIcon>${installdir}/icons/mathtextrecognizer48.ico</windowsIcon>
                    <windowsPath>${installdir}</windowsPath>
                </startMenuShortcut>
                <startMenuShortcut>
                    <comment>Aprendedor de simbolos matematicos</comment>
                    <name>MathTextLearner</name>
                    <runInTerminal>0</runInTerminal>
                    <windowsExec>"${installdir}\bin\MathTextLearner.bat"</windowsExec>
                    <windowsExecArgs></windowsExecArgs>
                    <windowsIcon>${installdir}/icons/mathtextlearner48.ico</windowsIcon>
                    <windowsPath>${installdir}</windowsPath>
                </startMenuShortcut>
            </startMenuShortcutList>
        </component>
    </componentList>
    <parameterList>
        <directoryParameter>
            <name>installdir</name>
            <description>Installer.Parameter.installdir.description</description>
            <explanation>Installer.Parameter.installdir.explanation</explanation>
            <value>${platform_install_prefix}/${product_shortname}-${product_version}</value>
            <default>${platform_install_prefix}/${product_shortname}-${product_version}</default>
            <allowEmptyValue>0</allowEmptyValue>
            <ask>yes</ask>
            <cliOptionName>prefix</cliOptionName>
            <mustBeWritable>yes</mustBeWritable>
            <mustExist>0</mustExist>
            <width>30</width>
        </directoryParameter>
    </parameterList>
    <platformOptionsList>
        <platformOptions>
            <platform>linux</platform>
        </platformOptions>
    </platformOptionsList>
</project>

